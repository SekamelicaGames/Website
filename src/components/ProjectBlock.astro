---
import type { MarkdownInstance } from 'astro';
import type { Project } from '../types';
import ProjectInfos from './ProjectInfos.astro';

interface Props {
	project: MarkdownInstance<Project>;
}

const { frontmatter, url } = Astro.props.project;
---

<h2 class="accent"><a href={url} class="button_nouppercase">{frontmatter.title}</a></h2>
<div class="projectblock">
    <div class={frontmatter.bannerStyle}>
        <div class="titleCard">
			<img class="projectbannerimg" src={frontmatter.banner} alt="gif">
            <a class="link" href={url}>
                <span class="linkInner description">
                    {frontmatter.title}
                </span>
            </a>
        </div>
    </div>
</div>
<ProjectInfos project={Astro.props.project}/>

<div class="center_flex">
	<p class="description">
        {frontmatter.shortDescription}
    </p>
</div>
<br/>
<style>

	.titleCard {
		position: relative;
		width: 100%;
		height: 100%;
		background-size: cover;
	}

	.link {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		color: var(--t-bg);
		font-size: var(--f-u2);
		font-weight: 700;
		background: rgba(0, 0, 0, 0.4);
		opacity: 0;
		text-decoration: none;
		text-transform: uppercase;
		transition: opacity 150ms linear;
	}

	.link:focus,
	.link:hover {
		opacity: 1;
	}

	.link:focus,
	.link:hover .linkInner {
		transform: translateY(0);
		border-color: rgba(255, 255, 255, 0.625);
	}

	.linkInner {
		transition: transform 300ms cubic-bezier(0, 0.4, 0.6, 1), border-color 1s linear;
		transform: translateY(25%);
	}
</style>
